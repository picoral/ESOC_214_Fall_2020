<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Module 5 Intro to Tidyverse | ESOC 2014 Introduction to Data Science</title>
  <meta name="description" content="This course provides an introduction to the various skills and considerations required for data management and analysis in business, education, and science. Particular attention will be given to learning how to use the free and open-source computing environment R, as well as one of its data visualization packages, ggplot2." />
  <meta name="generator" content="bookdown 0.19 and GitBook 2.6.7" />

  <meta property="og:title" content="Module 5 Intro to Tidyverse | ESOC 2014 Introduction to Data Science" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This course provides an introduction to the various skills and considerations required for data management and analysis in business, education, and science. Particular attention will be given to learning how to use the free and open-source computing environment R, as well as one of its data visualization packages, ggplot2." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Module 5 Intro to Tidyverse | ESOC 2014 Introduction to Data Science" />
  
  <meta name="twitter:description" content="This course provides an introduction to the various skills and considerations required for data management and analysis in business, education, and science. Particular attention will be given to learning how to use the free and open-source computing environment R, as well as one of its data visualization packages, ggplot2." />
  

<meta name="author" content="Adriana Picoral, PhD (she/her)  adrianaps@email.arizona.edu   The University of Arizona sits on the homelands of the Tohono O’odham and Yaqui, whose care and keeping of these lands allows us to be here today." />


<meta name="date" content="2020-08-14" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="r-basics.html"/>
<link rel="next" href="data-tidying.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">ESOC 214 Introduction to Data Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Syllabus</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#course-description"><i class="fa fa-check"></i><b>1.1</b> Course Description</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#a-few-words-on-r-and-coding"><i class="fa fa-check"></i><b>1.2</b> A Few Words on R and Coding</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#a-few-words-on-technology"><i class="fa fa-check"></i><b>1.3</b> A Few Words on Technology</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#readings"><i class="fa fa-check"></i><b>1.4</b> Readings</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#assignments-with-grade-breakdown"><i class="fa fa-check"></i><b>1.5</b> Assignments with Grade Breakdown</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#requirements-for-the-course"><i class="fa fa-check"></i><b>1.6</b> Requirements for the Course</a></li>
<li class="chapter" data-level="1.7" data-path="index.html"><a href="index.html#course-schedule"><i class="fa fa-check"></i><b>1.7</b> Course Schedule</a></li>
<li class="chapter" data-level="1.8" data-path="index.html"><a href="index.html#final-project"><i class="fa fa-check"></i><b>1.8</b> Final Project</a></li>
<li class="chapter" data-level="1.9" data-path="index.html"><a href="index.html#honors-students-requirements"><i class="fa fa-check"></i><b>1.9</b> Honors Students’ Requirements</a></li>
<li class="chapter" data-level="1.10" data-path="index.html"><a href="index.html#student-accommodations"><i class="fa fa-check"></i><b>1.10</b> Student Accommodations</a></li>
<li class="chapter" data-level="1.11" data-path="index.html"><a href="index.html#attendance-due-dates-and-missing-work"><i class="fa fa-check"></i><b>1.11</b> Attendance, Due Dates, and Missing Work</a></li>
<li class="chapter" data-level="1.12" data-path="index.html"><a href="index.html#course-conduct-and-campus-policies"><i class="fa fa-check"></i><b>1.12</b> Course Conduct and Campus Policies</a></li>
<li class="chapter" data-level="1.13" data-path="index.html"><a href="index.html#code-of-conduct"><i class="fa fa-check"></i><b>1.13</b> Code of Conduct</a><ul>
<li class="chapter" data-level="1.13.1" data-path="index.html"><a href="index.html#our-pledge"><i class="fa fa-check"></i><b>1.13.1</b> Our Pledge</a></li>
<li class="chapter" data-level="1.13.2" data-path="index.html"><a href="index.html#our-standards"><i class="fa fa-check"></i><b>1.13.2</b> Our Standards</a></li>
<li class="chapter" data-level="1.13.3" data-path="index.html"><a href="index.html#enforcement"><i class="fa fa-check"></i><b>1.13.3</b> Enforcement</a></li>
<li class="chapter" data-level="1.13.4" data-path="index.html"><a href="index.html#attribution"><i class="fa fa-check"></i><b>1.13.4</b> Attribution</a></li>
</ul></li>
<li class="chapter" data-level="1.14" data-path="index.html"><a href="index.html#how-to-ask-for-help"><i class="fa fa-check"></i><b>1.14</b> How to Ask For Help</a><ul>
<li class="chapter" data-level="1.14.1" data-path="index.html"><a href="index.html#before-you-ask-for-help"><i class="fa fa-check"></i><b>1.14.1</b> Before You ask for help</a></li>
<li class="chapter" data-level="1.14.2" data-path="index.html"><a href="index.html#ask-other-people-for-help"><i class="fa fa-check"></i><b>1.14.2</b> Ask other people for help</a></li>
<li class="chapter" data-level="1.14.3" data-path="index.html"><a href="index.html#list-of-resources"><i class="fa fa-check"></i><b>1.14.3</b> List of Resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="whats-ds.html"><a href="whats-ds.html"><i class="fa fa-check"></i><b>2</b> What’s data science?</a><ul>
<li class="chapter" data-level="2.1" data-path="whats-ds.html"><a href="whats-ds.html#before-class-1"><i class="fa fa-check"></i><b>2.1</b> Before class #1</a></li>
<li class="chapter" data-level="2.2" data-path="whats-ds.html"><a href="whats-ds.html#whats-data-science"><i class="fa fa-check"></i><b>2.2</b> What’s data science?</a></li>
<li class="chapter" data-level="2.3" data-path="whats-ds.html"><a href="whats-ds.html#what-does-a-data-scientist-do"><i class="fa fa-check"></i><b>2.3</b> What does a data scientist do?</a></li>
<li class="chapter" data-level="2.4" data-path="whats-ds.html"><a href="whats-ds.html#data-science-workflow"><i class="fa fa-check"></i><b>2.4</b> Data Science Workflow</a></li>
<li class="chapter" data-level="2.5" data-path="whats-ds.html"><a href="whats-ds.html#before-class-2"><i class="fa fa-check"></i><b>2.5</b> Before class #2</a></li>
<li class="chapter" data-level="2.6" data-path="whats-ds.html"><a href="whats-ds.html#whats-data"><i class="fa fa-check"></i><b>2.6</b> What’s data?</a></li>
<li class="chapter" data-level="2.7" data-path="whats-ds.html"><a href="whats-ds.html#what-does-data-analysis-look-like"><i class="fa fa-check"></i><b>2.7</b> What does data analysis look like?</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="install-r.html"><a href="install-r.html"><i class="fa fa-check"></i><b>3</b> Exploring our IDE (Rstudio)</a><ul>
<li class="chapter" data-level="3.1" data-path="install-r.html"><a href="install-r.html#before-class"><i class="fa fa-check"></i><b>3.1</b> Before class</a><ul>
<li class="chapter" data-level="3.1.1" data-path="install-r.html"><a href="install-r.html#ive-never-installed-r-and-rstudio-in-my-computer-or-im-not-sure-i-have-r-and-rstudio-installed-in-my-computer"><i class="fa fa-check"></i><b>3.1.1</b> I’ve never installed R and RStudio in my computer OR I’m not sure I have R and RStudio installed in my computer</a></li>
<li class="chapter" data-level="3.1.2" data-path="install-r.html"><a href="install-r.html#i-already-have-r-and-rstudio-installed"><i class="fa fa-check"></i><b>3.1.2</b> I already have R and RStudio installed</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="install-r.html"><a href="install-r.html#why-learn-r"><i class="fa fa-check"></i><b>3.2</b> Why learn R?</a></li>
<li class="chapter" data-level="3.3" data-path="install-r.html"><a href="install-r.html#why-use-rstudio"><i class="fa fa-check"></i><b>3.3</b> Why use RStudio?</a></li>
<li class="chapter" data-level="3.4" data-path="install-r.html"><a href="install-r.html#create-an-r-project"><i class="fa fa-check"></i><b>3.4</b> Create an R Project</a></li>
<li class="chapter" data-level="3.5" data-path="install-r.html"><a href="install-r.html#operations-and-objects"><i class="fa fa-check"></i><b>3.5</b> Operations and Objects</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>4</b> R Basics</a><ul>
<li class="chapter" data-level="4.1" data-path="r-basics.html"><a href="r-basics.html#before-class-3"><i class="fa fa-check"></i><b>4.1</b> Before Class</a></li>
<li class="chapter" data-level="4.2" data-path="r-basics.html"><a href="r-basics.html#dataframes"><i class="fa fa-check"></i><b>4.2</b> Dataframes</a></li>
<li class="chapter" data-level="4.3" data-path="r-basics.html"><a href="r-basics.html#slicing-you-dataframe"><i class="fa fa-check"></i><b>4.3</b> Slicing you dataframe</a></li>
<li class="chapter" data-level="4.4" data-path="r-basics.html"><a href="r-basics.html#adding-new-variables-i.e.-columns-to-your-dataframe"><i class="fa fa-check"></i><b>4.4</b> Adding new variables (i.e., columns) to your dataframe</a></li>
<li class="chapter" data-level="4.5" data-path="r-basics.html"><a href="r-basics.html#descriptive-stats-on-dataframes"><i class="fa fa-check"></i><b>4.5</b> Descriptive stats on dataframes</a></li>
<li class="chapter" data-level="4.6" data-path="r-basics.html"><a href="r-basics.html#note-on-coding-style"><i class="fa fa-check"></i><b>4.6</b> Note on coding style</a></li>
<li class="chapter" data-level="4.7" data-path="r-basics.html"><a href="r-basics.html#organizing-data-science-projects"><i class="fa fa-check"></i><b>4.7</b> Organizing Data Science Projects</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html"><i class="fa fa-check"></i><b>5</b> Intro to Tidyverse</a><ul>
<li class="chapter" data-level="5.1" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#before-class-4"><i class="fa fa-check"></i><b>5.1</b> Before Class</a></li>
<li class="chapter" data-level="5.2" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#what-are-r-packages"><i class="fa fa-check"></i><b>5.2</b> What are R Packages?</a></li>
<li class="chapter" data-level="5.3" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#installing-packages"><i class="fa fa-check"></i><b>5.3</b> Installing Packages</a></li>
<li class="chapter" data-level="5.4" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#before-you-load-your-data"><i class="fa fa-check"></i><b>5.4</b> Before You Load your Data</a></li>
<li class="chapter" data-level="5.5" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#whats-our-question-again"><i class="fa fa-check"></i><b>5.5</b> What’s our question again?</a></li>
<li class="chapter" data-level="5.6" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#load-data-with-tidyverse"><i class="fa fa-check"></i><b>5.6</b> Load Data with Tidyverse</a></li>
<li class="chapter" data-level="5.7" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#inspect-your-data"><i class="fa fa-check"></i><b>5.7</b> Inspect Your Data</a></li>
<li class="chapter" data-level="5.8" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#the-pipe"><i class="fa fa-check"></i><b>5.8</b> The Pipe</a></li>
<li class="chapter" data-level="5.9" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#counting-categorical-variables"><i class="fa fa-check"></i><b>5.9</b> Counting Categorical Variables</a></li>
<li class="chapter" data-level="5.10" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#group_by-summarise"><i class="fa fa-check"></i><b>5.10</b> group_by + summarise</a></li>
<li class="chapter" data-level="5.11" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#data-challenge-1"><i class="fa fa-check"></i><b>5.11</b> DATA CHALLENGE 1</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="data-tidying.html"><a href="data-tidying.html"><i class="fa fa-check"></i><b>6</b> Data Tidying</a></li>
<li class="chapter" data-level="7" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html"><i class="fa fa-check"></i><b>7</b> Descriptive Statistics</a><ul>
<li class="chapter" data-level="7.1" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#before-class-5"><i class="fa fa-check"></i><b>7.1</b> Before class</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data-visualization.html"><a href="data-visualization.html"><i class="fa fa-check"></i><b>8</b> Data Visualization</a></li>
<li class="chapter" data-level="9" data-path="data-case-study-1.html"><a href="data-case-study-1.html"><i class="fa fa-check"></i><b>9</b> Data Case Study 1</a></li>
<li class="chapter" data-level="10" data-path="data-case-study-2.html"><a href="data-case-study-2.html"><i class="fa fa-check"></i><b>10</b> Data Case Study 2</a></li>
<li class="chapter" data-level="11" data-path="getting-data.html"><a href="getting-data.html"><i class="fa fa-check"></i><b>11</b> Getting Data</a></li>
<li class="chapter" data-level="12" data-path="data-case-study-3.html"><a href="data-case-study-3.html"><i class="fa fa-check"></i><b>12</b> Data Case Study 3</a></li>
<li class="chapter" data-level="13" data-path="markdown.html"><a href="markdown.html"><i class="fa fa-check"></i><b>13</b> Markdown</a></li>
<li class="chapter" data-level="14" data-path="data-case-study-4.html"><a href="data-case-study-4.html"><i class="fa fa-check"></i><b>14</b> Data Case Study 4</a></li>
<li class="chapter" data-level="15" data-path="analysis-reporting.html"><a href="analysis-reporting.html"><i class="fa fa-check"></i><b>15</b> Analysis Reporting</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">ESOC 2014 Introduction to Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="intro-to-tidyverse" class="section level1">
<h1><span class="header-section-number">Module 5</span> Intro to Tidyverse</h1>
<div id="before-class-4" class="section level2">
<h2><span class="header-section-number">5.1</span> Before Class</h2>
<p>Read <a href="https://www.r-bloggers.com/advice-to-young-and-old-programmers-a-conversation-with-hadley-wickham/">Advice to Young (and Old) Programmers: A Conversation with Hadley Wickham</a> by Philip Waggoner (2,599 words, 10 minutes)</p>
</div>
<div id="what-are-r-packages" class="section level2">
<h2><span class="header-section-number">5.2</span> What are R Packages?</h2>
<p>An R package contains functions, and it might contain data. There are a lot of R packages out here (check the Comprehensive R Archive Network, i.e., CRAN, for a <a href="https://cran.r-project.org/web/packages/available_packages_by_name.html">full list</a>). That is one of the beautiful things about R, anyone can create an R package to share their code.</p>
</div>
<div id="installing-packages" class="section level2">
<h2><span class="header-section-number">5.3</span> Installing Packages</h2>
<p>The function to install packages in R is <code>install.packages()</code>. We will be working with <a href="https://www.tidyverse.org/">TidyVerse</a> extensively in this course, which is a collection of R packages carefully designed for data science.</p>
<p>Open your RStudio. In your console, enter the following to install tidyverse (this may take a while).</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="intro-to-tidyverse.html#cb45-1"></a><span class="kw">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>)</span></code></pre></div>
<p>You need to install any package only once (remember to check for new package versions and to keep your packages updated). However, with every new R session, you need to load the packages you are going to use by using the <code>library()</code> function (a library is an installed R package in your computer).</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="intro-to-tidyverse.html#cb46-1"></a><span class="kw">library</span>(tidyverse)</span></code></pre></div>
<div id="explanation" class="explanation">
<p>Note that when calling the <code>install.packages()</code> function you need to enter the package name between quotation marks (e.g., “tidyverse”). When you call the <code>library()</code> function, you don’t use quotation marks (e.g., tidyverse).</p>
</div>
</div>
<div id="before-you-load-your-data" class="section level2">
<h2><span class="header-section-number">5.4</span> Before You Load your Data</h2>
<p>Although we are working within an R project, which sets the working directory automatically for you, it’s good practice to check what folder you are working from by calling the <code>getwd()</code> function.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="intro-to-tidyverse.html#cb47-1"></a><span class="kw">getwd</span>()</span></code></pre></div>
<pre><code>## [1] &quot;/Users/adriana/Desktop/ESOC214/Fall 2020/bookdown/ESOC_214_Fall_2020&quot;</code></pre>
<p>You can list the contents of your working directory by using the <code>dir()</code> function.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="intro-to-tidyverse.html#cb49-1"></a><span class="kw">dir</span>()</span></code></pre></div>
<p>We are going to create a <code>data</code> folder in our project, to keep things organized. Today we will be working with <a href="https://www.kaggle.com/groundhogclub/groundhog-day">a data set that contains groundhog day forecasts and temperature</a>. I cleaned up this data set already (no need for data tidying for now).</p>
<p>You can now list the contents of your <code>data</code> folder with the <code>dir()</code> function with a string that specifies the folder as a parameter.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="intro-to-tidyverse.html#cb50-1"></a><span class="kw">dir</span>(<span class="st">&quot;data&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;groundhog_day.csv&quot;   &quot;tweets.tsv&quot;          &quot;us_avg_tuition.xlsx&quot;</code></pre>
</div>
<div id="whats-our-question-again" class="section level2">
<h2><span class="header-section-number">5.5</span> What’s our question again?</h2>
<p>Here’s what we will focus on answering today, which is an excerpt from the <a href="https://www.kaggle.com/groundhogclub/groundhog-day">Groundhog Day Forecasts and Temperatures</a> kaggle page.</p>
<p>“Thousands gather at Gobbler’s Knob in Punxsutawney, Pennsylvania, on the second day of February to await the spring forecast from a groundhog known as Punxsutawney Phil. According to legend, if Phil sees his shadow the United States is in store for six more weeks of winter weather. But, if Phil doesn’t see his shadow, the country should expect warmer temperatures and the arrival of an early spring.”</p>
<p>So, in summary, our question is <strong>How accurate is Punxsutawney Phil’s winter weather forecast?</strong></p>
</div>
<div id="load-data-with-tidyverse" class="section level2">
<h2><span class="header-section-number">5.6</span> Load Data with Tidyverse</h2>
<p>We will use the <code>read_csv()</code> function from the <code>readr</code> package (which is part of <code>tidyverse</code>) to read data in. Be careful, there’s a similar function that is read.csv() from base R. We do want to use the function with the <code>_</code> (i.e., <code>read_csv()</code>)</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="intro-to-tidyverse.html#cb52-1"></a>groundhog_predictions &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/groundhog_day.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   Year = col_double(),
##   Punxsutawney_Phil = col_character(),
##   February_Average_Temperature = col_double(),
##   February_Average_Temperature_Northeast = col_double(),
##   February_Average_Temperature_Midwest = col_double(),
##   February_Average_Temperature_Pennsylvania = col_double(),
##   March_Average_Temperature = col_double(),
##   March_Average_Temperature_Northeast = col_double(),
##   March_Average_Temperature_Midwest = col_double(),
##   March_Average_Temperature_Pennsylvania = col_double()
## )</code></pre>
<div id="challenge" class="challenge">
<p><strong>Reading warnings</strong> - R often prints out warnings in red (these are not always errors). What information did you get when loading your data?</p>
</div>
</div>
<div id="inspect-your-data" class="section level2">
<h2><span class="header-section-number">5.7</span> Inspect Your Data</h2>
<p>As with any other programming language, there are multiple ways to doing anything. As such, there are multiple ways of inspecting your data in R. Here are some of my favorite ways of inspecting my data:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="intro-to-tidyverse.html#cb54-1"></a><span class="co"># get an overview of the data frame</span></span>
<span id="cb54-2"><a href="intro-to-tidyverse.html#cb54-2"></a><span class="kw">glimpse</span>(groundhog_predictions)</span></code></pre></div>
<pre><code>## Rows: 122
## Columns: 10
## $ Year                                      &lt;dbl&gt; 1895, 1896, 1897, 1898, 189…
## $ Punxsutawney_Phil                         &lt;chr&gt; &quot;No Record&quot;, &quot;No Record&quot;, &quot;…
## $ February_Average_Temperature              &lt;dbl&gt; 26.60, 35.04, 33.39, 35.37,…
## $ February_Average_Temperature_Northeast    &lt;dbl&gt; 15.6, 22.2, 23.6, 24.8, 18.…
## $ February_Average_Temperature_Midwest      &lt;dbl&gt; 21.9, 33.5, 34.7, 33.3, 22.…
## $ February_Average_Temperature_Pennsylvania &lt;dbl&gt; 17.0, 26.6, 27.9, 26.7, 20.…
## $ March_Average_Temperature                 &lt;dbl&gt; 39.97, 38.03, 38.79, 41.05,…
## $ March_Average_Temperature_Northeast       &lt;dbl&gt; 27.6, 25.3, 32.0, 38.0, 29.…
## $ March_Average_Temperature_Midwest         &lt;dbl&gt; 40.2, 36.9, 44.0, 46.0, 38.…
## $ March_Average_Temperature_Pennsylvania    &lt;dbl&gt; 31.3, 27.8, 36.9, 42.0, 34.…</code></pre>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="intro-to-tidyverse.html#cb56-1"></a><span class="kw">summary</span>(groundhog_predictions)</span></code></pre></div>
<pre><code>##       Year      Punxsutawney_Phil  February_Average_Temperature
##  Min.   :1895   Length:122         Min.   :25.23               
##  1st Qu.:1925   Class :character   1st Qu.:31.78               
##  Median :1956   Mode  :character   Median :33.69               
##  Mean   :1956                      Mean   :33.80               
##  3rd Qu.:1986                      3rd Qu.:36.01               
##  Max.   :2016                      Max.   :41.41               
##  February_Average_Temperature_Northeast February_Average_Temperature_Midwest
##  Min.   :10.40                          Min.   :20.30                       
##  1st Qu.:20.02                          1st Qu.:29.62                       
##  Median :22.95                          Median :33.20                       
##  Mean   :22.69                          Mean   :32.69                       
##  3rd Qu.:25.98                          3rd Qu.:36.30                       
##  Max.   :31.60                          Max.   :41.40                       
##  February_Average_Temperature_Pennsylvania March_Average_Temperature
##  Min.   :15.20                             Min.   :35.44            
##  1st Qu.:23.60                             1st Qu.:39.38            
##  Median :26.95                             Median :41.81            
##  Mean   :26.52                             Mean   :41.70            
##  3rd Qu.:29.80                             3rd Qu.:43.56            
##  Max.   :35.80                             Max.   :50.41            
##  March_Average_Temperature_Northeast March_Average_Temperature_Midwest
##  Min.   :24.20                       Min.   :28.50                    
##  1st Qu.:29.70                       1st Qu.:39.08                    
##  Median :32.55                       Median :42.85                    
##  Mean   :32.37                       Mean   :42.57                    
##  3rd Qu.:34.80                       3rd Qu.:45.60                    
##  Max.   :43.40                       Max.   :56.30                    
##  March_Average_Temperature_Pennsylvania
##  Min.   :24.50                         
##  1st Qu.:32.95                         
##  Median :35.85                         
##  Mean   :35.91                         
##  3rd Qu.:38.55                         
##  Max.   :47.70</code></pre>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="intro-to-tidyverse.html#cb58-1"></a><span class="co"># get variable names</span></span>
<span id="cb58-2"><a href="intro-to-tidyverse.html#cb58-2"></a><span class="kw">colnames</span>(groundhog_predictions)</span></code></pre></div>
<pre><code>##  [1] &quot;Year&quot;                                     
##  [2] &quot;Punxsutawney_Phil&quot;                        
##  [3] &quot;February_Average_Temperature&quot;             
##  [4] &quot;February_Average_Temperature_Northeast&quot;   
##  [5] &quot;February_Average_Temperature_Midwest&quot;     
##  [6] &quot;February_Average_Temperature_Pennsylvania&quot;
##  [7] &quot;March_Average_Temperature&quot;                
##  [8] &quot;March_Average_Temperature_Northeast&quot;      
##  [9] &quot;March_Average_Temperature_Midwest&quot;        
## [10] &quot;March_Average_Temperature_Pennsylvania&quot;</code></pre>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="intro-to-tidyverse.html#cb60-1"></a><span class="kw">names</span>(groundhog_predictions)</span></code></pre></div>
<pre><code>##  [1] &quot;Year&quot;                                     
##  [2] &quot;Punxsutawney_Phil&quot;                        
##  [3] &quot;February_Average_Temperature&quot;             
##  [4] &quot;February_Average_Temperature_Northeast&quot;   
##  [5] &quot;February_Average_Temperature_Midwest&quot;     
##  [6] &quot;February_Average_Temperature_Pennsylvania&quot;
##  [7] &quot;March_Average_Temperature&quot;                
##  [8] &quot;March_Average_Temperature_Northeast&quot;      
##  [9] &quot;March_Average_Temperature_Midwest&quot;        
## [10] &quot;March_Average_Temperature_Pennsylvania&quot;</code></pre>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="intro-to-tidyverse.html#cb62-1"></a><span class="co"># check the categorical variable</span></span>
<span id="cb62-2"><a href="intro-to-tidyverse.html#cb62-2"></a><span class="kw">unique</span>(groundhog_predictions<span class="op">$</span>Punxsutawney_Phil)</span></code></pre></div>
<pre><code>## [1] &quot;No Record&quot;      &quot;Full Shadow&quot;    &quot;No Shadow&quot;      &quot;Partial Shadow&quot;</code></pre>
<div id="challenge" class="challenge">
<p>Which variables are numeric? Which are categorical?</p>
</div>
</div>
<div id="the-pipe" class="section level2">
<h2><span class="header-section-number">5.8</span> The Pipe</h2>
<p>We will be using the package <code>dplyr</code> (which is also part of <code>tidyverse</code>) to do an exploratory analysis of our data.</p>
<p>The package <code>dplyr</code> most used function is <code>%&gt;%</code> (called the pipe). The pipe allows you to “pipe” (or redirect) objects into functions. (hint: use ctrl+shift+m or cmd+shift+m as a shortcut for typing <code>%&gt;%</code>).</p>
<p>Here’s how to pipe the <code>avocado_data</code> object into the <code>summary()</code> function</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="intro-to-tidyverse.html#cb64-1"></a><span class="co"># get an overview of the data frame</span></span>
<span id="cb64-2"><a href="intro-to-tidyverse.html#cb64-2"></a>groundhog_predictions <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb64-3"><a href="intro-to-tidyverse.html#cb64-3"></a><span class="st">  </span><span class="kw">summary</span>()</span></code></pre></div>
<pre><code>##       Year      Punxsutawney_Phil  February_Average_Temperature
##  Min.   :1895   Length:122         Min.   :25.23               
##  1st Qu.:1925   Class :character   1st Qu.:31.78               
##  Median :1956   Mode  :character   Median :33.69               
##  Mean   :1956                      Mean   :33.80               
##  3rd Qu.:1986                      3rd Qu.:36.01               
##  Max.   :2016                      Max.   :41.41               
##  February_Average_Temperature_Northeast February_Average_Temperature_Midwest
##  Min.   :10.40                          Min.   :20.30                       
##  1st Qu.:20.02                          1st Qu.:29.62                       
##  Median :22.95                          Median :33.20                       
##  Mean   :22.69                          Mean   :32.69                       
##  3rd Qu.:25.98                          3rd Qu.:36.30                       
##  Max.   :31.60                          Max.   :41.40                       
##  February_Average_Temperature_Pennsylvania March_Average_Temperature
##  Min.   :15.20                             Min.   :35.44            
##  1st Qu.:23.60                             1st Qu.:39.38            
##  Median :26.95                             Median :41.81            
##  Mean   :26.52                             Mean   :41.70            
##  3rd Qu.:29.80                             3rd Qu.:43.56            
##  Max.   :35.80                             Max.   :50.41            
##  March_Average_Temperature_Northeast March_Average_Temperature_Midwest
##  Min.   :24.20                       Min.   :28.50                    
##  1st Qu.:29.70                       1st Qu.:39.08                    
##  Median :32.55                       Median :42.85                    
##  Mean   :32.37                       Mean   :42.57                    
##  3rd Qu.:34.80                       3rd Qu.:45.60                    
##  Max.   :43.40                       Max.   :56.30                    
##  March_Average_Temperature_Pennsylvania
##  Min.   :24.50                         
##  1st Qu.:32.95                         
##  Median :35.85                         
##  Mean   :35.91                         
##  3rd Qu.:38.55                         
##  Max.   :47.70</code></pre>
<p>The pipe allows us to apply multiple functions to the same object.</p>
<p>Let’s start by selecting one column in our data.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="intro-to-tidyverse.html#cb66-1"></a>groundhog_predictions <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb66-2"><a href="intro-to-tidyverse.html#cb66-2"></a><span class="st">  </span><span class="kw">select</span>(Punxsutawney_Phil)</span></code></pre></div>
<pre><code>## # A tibble: 122 x 1
##    Punxsutawney_Phil
##    &lt;chr&gt;            
##  1 No Record        
##  2 No Record        
##  3 No Record        
##  4 Full Shadow      
##  5 No Record        
##  6 Full Shadow      
##  7 Full Shadow      
##  8 No Record        
##  9 Full Shadow      
## 10 Full Shadow      
## # … with 112 more rows</code></pre>
<p>Now let’s add another pipe to get unique values in this column.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="intro-to-tidyverse.html#cb68-1"></a>groundhog_predictions <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb68-2"><a href="intro-to-tidyverse.html#cb68-2"></a><span class="st">  </span><span class="kw">select</span>(Punxsutawney_Phil) <span class="op">%&gt;%</span></span>
<span id="cb68-3"><a href="intro-to-tidyverse.html#cb68-3"></a><span class="st">  </span><span class="kw">unique</span>()</span></code></pre></div>
<pre><code>## # A tibble: 4 x 1
##   Punxsutawney_Phil
##   &lt;chr&gt;            
## 1 No Record        
## 2 Full Shadow      
## 3 No Shadow        
## 4 Partial Shadow</code></pre>
</div>
<div id="counting-categorical-variables" class="section level2">
<h2><span class="header-section-number">5.9</span> Counting Categorical Variables</h2>
<p>One of the functions I most use when exploring my data is <code>count()</code>, which you can combine with <code>%&gt;%</code>.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="intro-to-tidyverse.html#cb70-1"></a>groundhog_predictions <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb70-2"><a href="intro-to-tidyverse.html#cb70-2"></a><span class="st">  </span><span class="kw">count</span>(Punxsutawney_Phil)</span></code></pre></div>
<pre><code>## # A tibble: 4 x 2
##   Punxsutawney_Phil     n
##   &lt;chr&gt;             &lt;int&gt;
## 1 Full Shadow         100
## 2 No Record             6
## 3 No Shadow            15
## 4 Partial Shadow        1</code></pre>
<p>You can do the same adding <code>group_by()</code> to your pipeline.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="intro-to-tidyverse.html#cb72-1"></a>groundhog_predictions <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb72-2"><a href="intro-to-tidyverse.html#cb72-2"></a><span class="st">  </span><span class="kw">group_by</span>(Punxsutawney_Phil) <span class="op">%&gt;%</span></span>
<span id="cb72-3"><a href="intro-to-tidyverse.html#cb72-3"></a><span class="st">  </span><span class="kw">count</span>()</span></code></pre></div>
<pre><code>## # A tibble: 4 x 2
## # Groups:   Punxsutawney_Phil [4]
##   Punxsutawney_Phil     n
##   &lt;chr&gt;             &lt;int&gt;
## 1 Full Shadow         100
## 2 No Record             6
## 3 No Shadow            15
## 4 Partial Shadow        1</code></pre>
<p>And instead of <code>count()</code> we can use the <code>summarise()</code> and <code>n()</code> functions.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="intro-to-tidyverse.html#cb74-1"></a>groundhog_predictions <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb74-2"><a href="intro-to-tidyverse.html#cb74-2"></a><span class="st">  </span><span class="kw">group_by</span>(Punxsutawney_Phil) <span class="op">%&gt;%</span></span>
<span id="cb74-3"><a href="intro-to-tidyverse.html#cb74-3"></a><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">total =</span> <span class="kw">n</span>())</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<pre><code>## # A tibble: 4 x 2
##   Punxsutawney_Phil total
##   &lt;chr&gt;             &lt;int&gt;
## 1 Full Shadow         100
## 2 No Record             6
## 3 No Shadow            15
## 4 Partial Shadow        1</code></pre>
<div id="challenge" class="challenge">
<p>This last way of counting categorical variables (with <code>summarise()</code> and <code>n()</code>) outputs a data frame that is slightly different from the previous too. What’s the difference?</p>
</div>
</div>
<div id="group_by-summarise" class="section level2">
<h2><span class="header-section-number">5.10</span> group_by + summarise</h2>
<p>The combination of the <code>group_by()</code> and <code>summarise()</code> functions is very powerful. In addition to using the <code>n()</code> function to count how many rows per each category in our categorical variable, we can use other functions with numeric (i.e., quantitative) variable such as <code>sum()</code> and <code>mean()</code>.</p>
<div id="challenge" class="challenge">
<p>Take a moment to revisit the question we want to answer.</p>
<ul>
<li><p>What do we want to find out?</p></li>
<li><p>How can we answer our question with this data?</p></li>
<li><p>What function (e.g., <code>sum()</code>, <code>max()</code>, <code>mean()</code>) do we use to answer our question? With what variables/columns?</p></li>
</ul>
</div>
<p>Complete the code below.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r watch-out"><code class="sourceCode r"><span id="cb77-1"><a href="intro-to-tidyverse.html#cb77-1"></a>groundhog_predictions <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb77-2"><a href="intro-to-tidyverse.html#cb77-2"></a><span class="st">  </span><span class="kw">group_by</span>(Punxsutawney_Phil) <span class="op">%&gt;%</span></span>
<span id="cb77-3"><a href="intro-to-tidyverse.html#cb77-3"></a><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">total =</span> <span class="kw">n</span>(),</span>
<span id="cb77-4"><a href="intro-to-tidyverse.html#cb77-4"></a>            <span class="dt">____ =</span> <span class="kw">____</span>(____))</span></code></pre></div>
<p>Example of output that you might want to get to answer our question:</p>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<pre><code>## # A tibble: 4 x 4
##   Punxsutawney_Phil total feb_mean_temp mar_mean_temp
##   &lt;chr&gt;             &lt;int&gt;         &lt;dbl&gt;         &lt;dbl&gt;
## 1 Full Shadow         100          33.7          41.7
## 2 No Record             6          31.4          39.1
## 3 No Shadow            15          35.6          43.0
## 4 Partial Shadow        1          30.7          41.3</code></pre>
</div>
<div id="data-challenge-1" class="section level2">
<h2><span class="header-section-number">5.11</span> DATA CHALLENGE 1</h2>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="r-basics.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-tidying.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["ESOC_214_Fall_2020.pdf", "ESOC_214_Fall_2020.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
