<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Module 12 Getting Data | ESOC 2014 Introduction to Data Science</title>
  <meta name="description" content="This course provides an introduction to the various skills and considerations required for data management and analysis in business, education, and science. Particular attention will be given to learning how to use the free and open-source computing environment R, as well as one of its data visualization packages, ggplot2." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Module 12 Getting Data | ESOC 2014 Introduction to Data Science" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This course provides an introduction to the various skills and considerations required for data management and analysis in business, education, and science. Particular attention will be given to learning how to use the free and open-source computing environment R, as well as one of its data visualization packages, ggplot2." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Module 12 Getting Data | ESOC 2014 Introduction to Data Science" />
  
  <meta name="twitter:description" content="This course provides an introduction to the various skills and considerations required for data management and analysis in business, education, and science. Particular attention will be given to learning how to use the free and open-source computing environment R, as well as one of its data visualization packages, ggplot2." />
  

<meta name="author" content="Adriana Picoral, PhD (she/her)  adrianaps@email.arizona.edu" />


<meta name="date" content="2020-12-07" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-case-study-2.html"/>
<link rel="next" href="data-case-study-3.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">ESOC 214 Introduction to Data Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Syllabus</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#course-description"><i class="fa fa-check"></i><b>1.1</b> Course Description</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#course-objectives"><i class="fa fa-check"></i><b>1.2</b> Course Objectives</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#learning-outcomes"><i class="fa fa-check"></i><b>1.3</b> Learning Outcomes</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#a-few-words-on-r-and-coding"><i class="fa fa-check"></i><b>1.4</b> A Few Words on R and Coding</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#a-few-words-on-technology"><i class="fa fa-check"></i><b>1.5</b> A Few Words on Technology</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#readings"><i class="fa fa-check"></i><b>1.6</b> Readings</a></li>
<li class="chapter" data-level="1.7" data-path="index.html"><a href="index.html#assignments-with-grade-breakdown"><i class="fa fa-check"></i><b>1.7</b> Assignments with Grade Breakdown</a></li>
<li class="chapter" data-level="1.8" data-path="index.html"><a href="index.html#requirements-for-the-course"><i class="fa fa-check"></i><b>1.8</b> Requirements for the Course</a></li>
<li class="chapter" data-level="1.9" data-path="index.html"><a href="index.html#course-schedule"><i class="fa fa-check"></i><b>1.9</b> Course Schedule</a></li>
<li class="chapter" data-level="1.10" data-path="index.html"><a href="index.html#final-project"><i class="fa fa-check"></i><b>1.10</b> Final Project</a></li>
<li class="chapter" data-level="1.11" data-path="index.html"><a href="index.html#honors-students-requirements"><i class="fa fa-check"></i><b>1.11</b> Honors Studentsâ€™ Requirements</a></li>
<li class="chapter" data-level="1.12" data-path="index.html"><a href="index.html#student-accommodations"><i class="fa fa-check"></i><b>1.12</b> Student Accommodations</a></li>
<li class="chapter" data-level="1.13" data-path="index.html"><a href="index.html#attendance-due-dates-and-missing-work"><i class="fa fa-check"></i><b>1.13</b> Attendance, Due Dates, and Missing Work</a></li>
<li class="chapter" data-level="1.14" data-path="index.html"><a href="index.html#course-conduct-and-campus-policies"><i class="fa fa-check"></i><b>1.14</b> Course Conduct and Campus Policies</a></li>
<li class="chapter" data-level="1.15" data-path="index.html"><a href="index.html#code-of-conduct"><i class="fa fa-check"></i><b>1.15</b> Code of Conduct</a><ul>
<li class="chapter" data-level="1.15.1" data-path="index.html"><a href="index.html#our-pledge"><i class="fa fa-check"></i><b>1.15.1</b> Our Pledge</a></li>
<li class="chapter" data-level="1.15.2" data-path="index.html"><a href="index.html#our-standards"><i class="fa fa-check"></i><b>1.15.2</b> Our Standards</a></li>
<li class="chapter" data-level="1.15.3" data-path="index.html"><a href="index.html#enforcement"><i class="fa fa-check"></i><b>1.15.3</b> Enforcement</a></li>
<li class="chapter" data-level="1.15.4" data-path="index.html"><a href="index.html#attribution"><i class="fa fa-check"></i><b>1.15.4</b> Attribution</a></li>
</ul></li>
<li class="chapter" data-level="1.16" data-path="index.html"><a href="index.html#how-to-ask-for-help"><i class="fa fa-check"></i><b>1.16</b> How to Ask For Help</a><ul>
<li class="chapter" data-level="1.16.1" data-path="index.html"><a href="index.html#before-you-ask-for-help"><i class="fa fa-check"></i><b>1.16.1</b> Before You ask for help</a></li>
<li class="chapter" data-level="1.16.2" data-path="index.html"><a href="index.html#ask-other-people-for-help"><i class="fa fa-check"></i><b>1.16.2</b> Ask other people for help</a></li>
<li class="chapter" data-level="1.16.3" data-path="index.html"><a href="index.html#list-of-resources"><i class="fa fa-check"></i><b>1.16.3</b> List of Resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="whats-ds.html"><a href="whats-ds.html"><i class="fa fa-check"></i><b>2</b> Whatâ€™s data science?</a><ul>
<li class="chapter" data-level="2.1" data-path="whats-ds.html"><a href="whats-ds.html#before-class-1"><i class="fa fa-check"></i><b>2.1</b> Before class #1</a></li>
<li class="chapter" data-level="2.2" data-path="whats-ds.html"><a href="whats-ds.html#whats-data-science"><i class="fa fa-check"></i><b>2.2</b> Whatâ€™s data science?</a></li>
<li class="chapter" data-level="2.3" data-path="whats-ds.html"><a href="whats-ds.html#what-does-a-data-scientist-do"><i class="fa fa-check"></i><b>2.3</b> What does a data scientist do?</a></li>
<li class="chapter" data-level="2.4" data-path="whats-ds.html"><a href="whats-ds.html#data-science-workflow"><i class="fa fa-check"></i><b>2.4</b> Data Science Workflow</a></li>
<li class="chapter" data-level="2.5" data-path="whats-ds.html"><a href="whats-ds.html#before-class-2"><i class="fa fa-check"></i><b>2.5</b> Before class #2</a></li>
<li class="chapter" data-level="2.6" data-path="whats-ds.html"><a href="whats-ds.html#whats-data"><i class="fa fa-check"></i><b>2.6</b> Whatâ€™s data?</a></li>
<li class="chapter" data-level="2.7" data-path="whats-ds.html"><a href="whats-ds.html#what-does-data-analysis-look-like"><i class="fa fa-check"></i><b>2.7</b> What does data analysis look like?</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="install-r.html"><a href="install-r.html"><i class="fa fa-check"></i><b>3</b> Exploring our IDE (Rstudio)</a><ul>
<li class="chapter" data-level="3.1" data-path="install-r.html"><a href="install-r.html#before-class-3"><i class="fa fa-check"></i><b>3.1</b> Before class #3</a><ul>
<li class="chapter" data-level="3.1.1" data-path="install-r.html"><a href="install-r.html#ive-never-installed-r-and-rstudio-in-my-computer-or-im-not-sure-i-have-r-and-rstudio-installed-in-my-computer"><i class="fa fa-check"></i><b>3.1.1</b> Iâ€™ve never installed R and RStudio in my computer OR Iâ€™m not sure I have R and RStudio installed in my computer</a></li>
<li class="chapter" data-level="3.1.2" data-path="install-r.html"><a href="install-r.html#i-already-have-r-and-rstudio-installed"><i class="fa fa-check"></i><b>3.1.2</b> I already have R and RStudio installed</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="install-r.html"><a href="install-r.html#why-learn-r"><i class="fa fa-check"></i><b>3.2</b> Why learn R?</a></li>
<li class="chapter" data-level="3.3" data-path="install-r.html"><a href="install-r.html#why-use-rstudio"><i class="fa fa-check"></i><b>3.3</b> Why use RStudio?</a></li>
<li class="chapter" data-level="3.4" data-path="install-r.html"><a href="install-r.html#create-an-r-project"><i class="fa fa-check"></i><b>3.4</b> Create an R Project</a></li>
<li class="chapter" data-level="3.5" data-path="install-r.html"><a href="install-r.html#operations-and-objects"><i class="fa fa-check"></i><b>3.5</b> Operations and Objects</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>4</b> R Basics</a><ul>
<li class="chapter" data-level="4.1" data-path="r-basics.html"><a href="r-basics.html#before-class-4"><i class="fa fa-check"></i><b>4.1</b> Before Class #4</a></li>
<li class="chapter" data-level="4.2" data-path="r-basics.html"><a href="r-basics.html#dataframes"><i class="fa fa-check"></i><b>4.2</b> Dataframes</a></li>
<li class="chapter" data-level="4.3" data-path="r-basics.html"><a href="r-basics.html#slicing-your-dataframe"><i class="fa fa-check"></i><b>4.3</b> Slicing your dataframe</a></li>
<li class="chapter" data-level="4.4" data-path="r-basics.html"><a href="r-basics.html#adding-new-variables-i.e.-columns-to-your-dataframe"><i class="fa fa-check"></i><b>4.4</b> Adding new variables (i.e., columns) to your dataframe</a></li>
<li class="chapter" data-level="4.5" data-path="r-basics.html"><a href="r-basics.html#descriptive-stats-on-dataframes"><i class="fa fa-check"></i><b>4.5</b> Descriptive stats on dataframes</a></li>
<li class="chapter" data-level="4.6" data-path="r-basics.html"><a href="r-basics.html#note-on-coding-style"><i class="fa fa-check"></i><b>4.6</b> Note on coding style</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="version-control.html"><a href="version-control.html"><i class="fa fa-check"></i><b>5</b> Version Control</a><ul>
<li class="chapter" data-level="5.1" data-path="version-control.html"><a href="version-control.html#before-class-5"><i class="fa fa-check"></i><b>5.1</b> Before Class #5</a><ul>
<li class="chapter" data-level="5.1.1" data-path="version-control.html"><a href="version-control.html#install-git-on-your-computer"><i class="fa fa-check"></i><b>5.1.1</b> Install git on your computer</a></li>
<li class="chapter" data-level="5.1.2" data-path="version-control.html"><a href="version-control.html#create-a-github-account"><i class="fa fa-check"></i><b>5.1.2</b> Create a GitHub account</a></li>
<li class="chapter" data-level="5.1.3" data-path="version-control.html"><a href="version-control.html#join-our-github-classroom"><i class="fa fa-check"></i><b>5.1.3</b> Join our GitHub classroom</a></li>
<li class="chapter" data-level="5.1.4" data-path="version-control.html"><a href="version-control.html#link-rstudio-to-github"><i class="fa fa-check"></i><b>5.1.4</b> Link RStudio to GitHub</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="version-control.html"><a href="version-control.html#what-is-version-control"><i class="fa fa-check"></i><b>5.2</b> What is version control?</a></li>
<li class="chapter" data-level="5.3" data-path="version-control.html"><a href="version-control.html#submitting-assignments"><i class="fa fa-check"></i><b>5.3</b> Submitting assignments</a><ul>
<li class="chapter" data-level="5.3.1" data-path="version-control.html"><a href="version-control.html#clone-assignment-repository"><i class="fa fa-check"></i><b>5.3.1</b> Clone assignment repository</a></li>
<li class="chapter" data-level="5.3.2" data-path="version-control.html"><a href="version-control.html#modify-files"><i class="fa fa-check"></i><b>5.3.2</b> Modify files</a></li>
<li class="chapter" data-level="5.3.3" data-path="version-control.html"><a href="version-control.html#commit-changes"><i class="fa fa-check"></i><b>5.3.3</b> Commit changes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html"><i class="fa fa-check"></i><b>6</b> Intro to Tidyverse</a><ul>
<li class="chapter" data-level="6.1" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#before-class-6"><i class="fa fa-check"></i><b>6.1</b> Before Class #6</a></li>
<li class="chapter" data-level="6.2" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#what-are-r-packages"><i class="fa fa-check"></i><b>6.2</b> What are R Packages?</a></li>
<li class="chapter" data-level="6.3" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#installing-packages"><i class="fa fa-check"></i><b>6.3</b> Installing Packages</a></li>
<li class="chapter" data-level="6.4" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#before-you-load-your-data"><i class="fa fa-check"></i><b>6.4</b> Before You Load your Data</a></li>
<li class="chapter" data-level="6.5" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#whats-our-question-again"><i class="fa fa-check"></i><b>6.5</b> Whatâ€™s our question again?</a></li>
<li class="chapter" data-level="6.6" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#load-data-with-tidyverse"><i class="fa fa-check"></i><b>6.6</b> Load Data with Tidyverse</a></li>
<li class="chapter" data-level="6.7" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#inspect-your-data"><i class="fa fa-check"></i><b>6.7</b> Inspect Your Data</a></li>
<li class="chapter" data-level="6.8" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#the-pipe"><i class="fa fa-check"></i><b>6.8</b> The Pipe</a></li>
<li class="chapter" data-level="6.9" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#counting-categorical-variables"><i class="fa fa-check"></i><b>6.9</b> Counting Categorical Variables</a></li>
<li class="chapter" data-level="6.10" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#group_by-summarise"><i class="fa fa-check"></i><b>6.10</b> group_by + summarise</a></li>
<li class="chapter" data-level="6.11" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#group_by-filter"><i class="fa fa-check"></i><b>6.11</b> group_by + filter</a></li>
<li class="chapter" data-level="6.12" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#pivot-dataframe"><i class="fa fa-check"></i><b>6.12</b> Pivot Dataframe</a></li>
<li class="chapter" data-level="6.13" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#separating-one-categorical-column-into-two"><i class="fa fa-check"></i><b>6.13</b> Separating one categorical column into two</a></li>
<li class="chapter" data-level="6.14" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#example-of-plotting"><i class="fa fa-check"></i><b>6.14</b> Example of Plotting</a></li>
<li class="chapter" data-level="6.15" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#data-challenge-01"><i class="fa fa-check"></i><b>6.15</b> DATA CHALLENGE 01</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="data-wrangling.html"><a href="data-wrangling.html"><i class="fa fa-check"></i><b>7</b> Data Wrangling</a><ul>
<li class="chapter" data-level="7.1" data-path="data-wrangling.html"><a href="data-wrangling.html#load-libraries"><i class="fa fa-check"></i><b>7.1</b> Load libraries</a></li>
<li class="chapter" data-level="7.2" data-path="data-wrangling.html"><a href="data-wrangling.html#read-your-data-in"><i class="fa fa-check"></i><b>7.2</b> Read your data in</a></li>
<li class="chapter" data-level="7.3" data-path="data-wrangling.html"><a href="data-wrangling.html#summarise-data"><i class="fa fa-check"></i><b>7.3</b> Summarise data</a></li>
<li class="chapter" data-level="7.4" data-path="data-wrangling.html"><a href="data-wrangling.html#tidy-data"><i class="fa fa-check"></i><b>7.4</b> Tidy data</a><ul>
<li class="chapter" data-level="7.4.1" data-path="data-wrangling.html"><a href="data-wrangling.html#viz-demo"><i class="fa fa-check"></i><b>7.4.1</b> Viz Demo</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="data-wrangling.html"><a href="data-wrangling.html#transform-data"><i class="fa fa-check"></i><b>7.5</b> Transform Data</a><ul>
<li class="chapter" data-level="7.5.1" data-path="data-wrangling.html"><a href="data-wrangling.html#viz-demo-1"><i class="fa fa-check"></i><b>7.5.1</b> Viz Demo</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="data-wrangling.html"><a href="data-wrangling.html#data-challenge-02"><i class="fa fa-check"></i><b>7.6</b> DATA CHALLENGE 02</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data-visualization.html"><a href="data-visualization.html"><i class="fa fa-check"></i><b>8</b> Data Visualization</a><ul>
<li class="chapter" data-level="8.1" data-path="data-visualization.html"><a href="data-visualization.html#the-layered-grammar-of-graphics"><i class="fa fa-check"></i><b>8.1</b> The layered grammar of graphics</a></li>
<li class="chapter" data-level="8.2" data-path="data-visualization.html"><a href="data-visualization.html#load-data"><i class="fa fa-check"></i><b>8.2</b> Load data</a></li>
<li class="chapter" data-level="8.3" data-path="data-visualization.html"><a href="data-visualization.html#what-to-plot"><i class="fa fa-check"></i><b>8.3</b> What to plot?</a></li>
<li class="chapter" data-level="8.4" data-path="data-visualization.html"><a href="data-visualization.html#aesthetic-mappings"><i class="fa fa-check"></i><b>8.4</b> Aesthetic Mappings</a><ul>
<li class="chapter" data-level="8.4.1" data-path="data-visualization.html"><a href="data-visualization.html#one-continuous-variable"><i class="fa fa-check"></i><b>8.4.1</b> One continuous variable</a></li>
<li class="chapter" data-level="8.4.2" data-path="data-visualization.html"><a href="data-visualization.html#two-numeric-variables"><i class="fa fa-check"></i><b>8.4.2</b> Two numeric variables</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="data-visualization.html"><a href="data-visualization.html#geom_-i.e.-geometric-objects"><i class="fa fa-check"></i><b>8.5</b> geom_ (i.e., Geometric Objects)</a></li>
<li class="chapter" data-level="8.6" data-path="data-visualization.html"><a href="data-visualization.html#more-mappings-with-aes"><i class="fa fa-check"></i><b>8.6</b> More mappings with aes()</a></li>
<li class="chapter" data-level="8.7" data-path="data-visualization.html"><a href="data-visualization.html#facets"><i class="fa fa-check"></i><b>8.7</b> Facets</a></li>
<li class="chapter" data-level="8.8" data-path="data-visualization.html"><a href="data-visualization.html#more-summarize"><i class="fa fa-check"></i><b>8.8</b> More Summarize</a></li>
<li class="chapter" data-level="8.9" data-path="data-visualization.html"><a href="data-visualization.html#data-challenge-03"><i class="fa fa-check"></i><b>8.9</b> DATA CHALLENGE 03</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="data-visualization-ii.html"><a href="data-visualization-ii.html"><i class="fa fa-check"></i><b>9</b> Data Visualization II</a><ul>
<li class="chapter" data-level="9.1" data-path="data-visualization-ii.html"><a href="data-visualization-ii.html#data-viz-by-artist"><i class="fa fa-check"></i><b>9.1</b> Data Viz by Artist</a><ul>
<li class="chapter" data-level="9.1.1" data-path="data-visualization-ii.html"><a href="data-visualization-ii.html#explore-artist-info"><i class="fa fa-check"></i><b>9.1.1</b> Explore Artist Info</a></li>
<li class="chapter" data-level="9.1.2" data-path="data-visualization-ii.html"><a href="data-visualization-ii.html#create-new-data-frame-with-selected-artists"><i class="fa fa-check"></i><b>9.1.2</b> Create new data frame with selected artists</a></li>
<li class="chapter" data-level="9.1.3" data-path="data-visualization-ii.html"><a href="data-visualization-ii.html#plotting"><i class="fa fa-check"></i><b>9.1.3</b> Plotting</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="data-visualization-ii.html"><a href="data-visualization-ii.html#data-viz-by-album"><i class="fa fa-check"></i><b>9.2</b> Data Viz by Album</a><ul>
<li class="chapter" data-level="9.2.1" data-path="data-visualization-ii.html"><a href="data-visualization-ii.html#create-new-data-frame"><i class="fa fa-check"></i><b>9.2.1</b> Create new data frame</a></li>
<li class="chapter" data-level="9.2.2" data-path="data-visualization-ii.html"><a href="data-visualization-ii.html#summarize-data"><i class="fa fa-check"></i><b>9.2.2</b> Summarize data</a></li>
<li class="chapter" data-level="9.2.3" data-path="data-visualization-ii.html"><a href="data-visualization-ii.html#plot-summarized-data"><i class="fa fa-check"></i><b>9.2.3</b> Plot summarized data</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="data-visualization-ii.html"><a href="data-visualization-ii.html#data-challenge-04"><i class="fa fa-check"></i><b>9.3</b> DATA CHALLENGE 04</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="data-case-study-1.html"><a href="data-case-study-1.html"><i class="fa fa-check"></i><b>10</b> Data Case Study 1</a><ul>
<li class="chapter" data-level="10.1" data-path="data-case-study-1.html"><a href="data-case-study-1.html#data-questions"><i class="fa fa-check"></i><b>10.1</b> Data Questions</a></li>
<li class="chapter" data-level="10.2" data-path="data-case-study-1.html"><a href="data-case-study-1.html#data-exploration"><i class="fa fa-check"></i><b>10.2</b> Data Exploration</a></li>
<li class="chapter" data-level="10.3" data-path="data-case-study-1.html"><a href="data-case-study-1.html#calculate-height-and-weight-relationship"><i class="fa fa-check"></i><b>10.3</b> Calculate height and weight relationship</a></li>
<li class="chapter" data-level="10.4" data-path="data-case-study-1.html"><a href="data-case-study-1.html#plot-kilos-per-centimeter-across-years"><i class="fa fa-check"></i><b>10.4</b> Plot kilos per centimeter across years</a></li>
<li class="chapter" data-level="10.5" data-path="data-case-study-1.html"><a href="data-case-study-1.html#plot-weight-over-time"><i class="fa fa-check"></i><b>10.5</b> Plot weight over time</a></li>
<li class="chapter" data-level="10.6" data-path="data-case-study-1.html"><a href="data-case-study-1.html#plot-height-over-time"><i class="fa fa-check"></i><b>10.6</b> Plot height over time</a></li>
<li class="chapter" data-level="10.7" data-path="data-case-study-1.html"><a href="data-case-study-1.html#data-filtering"><i class="fa fa-check"></i><b>10.7</b> Data Filtering</a></li>
<li class="chapter" data-level="10.8" data-path="data-case-study-1.html"><a href="data-case-study-1.html#plot-height-and-weight-across-countries-over-the-years"><i class="fa fa-check"></i><b>10.8</b> Plot height and weight across countries over the years</a></li>
<li class="chapter" data-level="10.9" data-path="data-case-study-1.html"><a href="data-case-study-1.html#solving-the-problem-of-team-name-changes-over-time"><i class="fa fa-check"></i><b>10.9</b> Solving the problem of team name changes over time</a></li>
<li class="chapter" data-level="10.10" data-path="data-case-study-1.html"><a href="data-case-study-1.html#data-challenge-05"><i class="fa fa-check"></i><b>10.10</b> DATA CHALLENGE 05</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="data-case-study-2.html"><a href="data-case-study-2.html"><i class="fa fa-check"></i><b>11</b> Data Case Study 2</a><ul>
<li class="chapter" data-level="11.1" data-path="data-case-study-2.html"><a href="data-case-study-2.html#reading-data-from-a-url"><i class="fa fa-check"></i><b>11.1</b> Reading data from a URL</a></li>
<li class="chapter" data-level="11.2" data-path="data-case-study-2.html"><a href="data-case-study-2.html#cleaning-up-column-names"><i class="fa fa-check"></i><b>11.2</b> Cleaning up column names</a></li>
<li class="chapter" data-level="11.3" data-path="data-case-study-2.html"><a href="data-case-study-2.html#manipulating-dates"><i class="fa fa-check"></i><b>11.3</b> Manipulating Dates</a></li>
<li class="chapter" data-level="11.4" data-path="data-case-study-2.html"><a href="data-case-study-2.html#extra-data-libraries"><i class="fa fa-check"></i><b>11.4</b> Extra Data libraries</a></li>
<li class="chapter" data-level="11.5" data-path="data-case-study-2.html"><a href="data-case-study-2.html#exploring-data"><i class="fa fa-check"></i><b>11.5</b> Exploring Data</a></li>
<li class="chapter" data-level="11.6" data-path="data-case-study-2.html"><a href="data-case-study-2.html#data-challenge-06"><i class="fa fa-check"></i><b>11.6</b> DATA CHALLENGE 06</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="getting-data.html"><a href="getting-data.html"><i class="fa fa-check"></i><b>12</b> Getting Data</a><ul>
<li class="chapter" data-level="12.1" data-path="getting-data.html"><a href="getting-data.html#search-for-data-sets"><i class="fa fa-check"></i><b>12.1</b> Search for data sets</a></li>
<li class="chapter" data-level="12.2" data-path="getting-data.html"><a href="getting-data.html#extracting-data-tables-from-pdf-files"><i class="fa fa-check"></i><b>12.2</b> Extracting data tables from pdf files</a></li>
<li class="chapter" data-level="12.3" data-path="getting-data.html"><a href="getting-data.html#extracting-data-tables-from-websites"><i class="fa fa-check"></i><b>12.3</b> Extracting data tables from websites</a></li>
<li class="chapter" data-level="12.4" data-path="getting-data.html"><a href="getting-data.html#project-proposal"><i class="fa fa-check"></i><b>12.4</b> Project Proposal</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="data-case-study-3.html"><a href="data-case-study-3.html"><i class="fa fa-check"></i><b>13</b> Data Case Study 3</a><ul>
<li class="chapter" data-level="13.1" data-path="data-case-study-3.html"><a href="data-case-study-3.html#adding-population-info-to-data-frame"><i class="fa fa-check"></i><b>13.1</b> Adding population info to data frame</a></li>
<li class="chapter" data-level="13.2" data-path="data-case-study-3.html"><a href="data-case-study-3.html#plotting-a-map"><i class="fa fa-check"></i><b>13.2</b> Plotting a map</a></li>
<li class="chapter" data-level="13.3" data-path="data-case-study-3.html"><a href="data-case-study-3.html#data-challenge-07"><i class="fa fa-check"></i><b>13.3</b> DATA CHALLENGE 07</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>14</b> R Markdown</a><ul>
<li class="chapter" data-level="14.1" data-path="r-markdown.html"><a href="r-markdown.html#creating-a-new-r-markdown-file"><i class="fa fa-check"></i><b>14.1</b> Creating a new R Markdown file</a></li>
<li class="chapter" data-level="14.2" data-path="r-markdown.html"><a href="r-markdown.html#chunk-options"><i class="fa fa-check"></i><b>14.2</b> Chunk Options</a></li>
<li class="chapter" data-level="14.3" data-path="r-markdown.html"><a href="r-markdown.html#change-yaml-header"><i class="fa fa-check"></i><b>14.3</b> Change YAML header</a></li>
<li class="chapter" data-level="14.4" data-path="r-markdown.html"><a href="r-markdown.html#text-formatting"><i class="fa fa-check"></i><b>14.4</b> Text Formatting</a></li>
<li class="chapter" data-level="14.5" data-path="r-markdown.html"><a href="r-markdown.html#reading-data"><i class="fa fa-check"></i><b>14.5</b> Reading Data</a></li>
<li class="chapter" data-level="14.6" data-path="r-markdown.html"><a href="r-markdown.html#data-tables"><i class="fa fa-check"></i><b>14.6</b> Data Tables</a></li>
<li class="chapter" data-level="14.7" data-path="r-markdown.html"><a href="r-markdown.html#manual-tables"><i class="fa fa-check"></i><b>14.7</b> Manual Tables</a></li>
<li class="chapter" data-level="14.8" data-path="r-markdown.html"><a href="r-markdown.html#plots"><i class="fa fa-check"></i><b>14.8</b> Plots</a></li>
<li class="chapter" data-level="14.9" data-path="r-markdown.html"><a href="r-markdown.html#knitting-pdfs"><i class="fa fa-check"></i><b>14.9</b> Knitting PDFs</a></li>
<li class="chapter" data-level="14.10" data-path="r-markdown.html"><a href="r-markdown.html#data-challenge-08"><i class="fa fa-check"></i><b>14.10</b> DATA CHALLENGE 08</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="data-case-study-4.html"><a href="data-case-study-4.html"><i class="fa fa-check"></i><b>15</b> Data Case Study 4</a><ul>
<li class="chapter" data-level="15.1" data-path="data-case-study-4.html"><a href="data-case-study-4.html#data"><i class="fa fa-check"></i><b>15.1</b> Data</a></li>
<li class="chapter" data-level="15.2" data-path="data-case-study-4.html"><a href="data-case-study-4.html#data-wrangling-1"><i class="fa fa-check"></i><b>15.2</b> Data Wrangling</a></li>
<li class="chapter" data-level="15.3" data-path="data-case-study-4.html"><a href="data-case-study-4.html#data-challenge-09"><i class="fa fa-check"></i><b>15.3</b> DATA CHALLENGE 09</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="analysis-reporting.html"><a href="analysis-reporting.html"><i class="fa fa-check"></i><b>16</b> Analysis Reporting</a><ul>
<li class="chapter" data-level="16.1" data-path="analysis-reporting.html"><a href="analysis-reporting.html#types-of-stories"><i class="fa fa-check"></i><b>16.1</b> Types of stories</a></li>
<li class="chapter" data-level="16.2" data-path="analysis-reporting.html"><a href="analysis-reporting.html#telling-a-story"><i class="fa fa-check"></i><b>16.2</b> Telling a story</a><ul>
<li class="chapter" data-level="16.2.1" data-path="analysis-reporting.html"><a href="analysis-reporting.html#how-to-tell-the-story"><i class="fa fa-check"></i><b>16.2.1</b> How to tell the story</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="analysis-reporting.html"><a href="analysis-reporting.html#telling-a-story-well"><i class="fa fa-check"></i><b>16.3</b> Telling a story well</a></li>
<li class="chapter" data-level="16.4" data-path="analysis-reporting.html"><a href="analysis-reporting.html#interactive-dashboards"><i class="fa fa-check"></i><b>16.4</b> Interactive dashboards</a></li>
<li class="chapter" data-level="16.5" data-path="analysis-reporting.html"><a href="analysis-reporting.html#final-project-submission"><i class="fa fa-check"></i><b>16.5</b> FINAL PROJECT SUBMISSION</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">ESOC 2014 Introduction to Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="getting-data" class="section level1">
<h1><span class="header-section-number">Module 12</span> Getting Data</h1>
<div id="search-for-data-sets" class="section level2">
<h2><span class="header-section-number">12.1</span> Search for data sets</h2>
<p>There are number of websites that are repositories of data sets. Hereâ€™s a list of some resources:</p>
<ul>
<li><p>Kaggle Data Sets <a href="https://www.kaggle.com/datasets" class="uri">https://www.kaggle.com/datasets</a></p></li>
<li><p>Google Dataset Search <a href="https://datasetsearch.research.google.com/" class="uri">https://datasetsearch.research.google.com/</a></p></li>
<li><p>U.S. Department of Education Public Data Listing <a href="https://www2.ed.gov/about/data/list.html" class="uri">https://www2.ed.gov/about/data/list.html</a></p></li>
<li><p>US Department of Health and Human Services, Datasets &amp; Research Resources <a href="https://www.nichd.nih.gov/research/resources/index" class="uri">https://www.nichd.nih.gov/research/resources/index</a></p></li>
<li><p>City of Tucson Open Data <a href="https://gisdata.tucsonaz.gov/" class="uri">https://gisdata.tucsonaz.gov/</a></p></li>
</ul>
</div>
<div id="extracting-data-tables-from-pdf-files" class="section level2">
<h2><span class="header-section-number">12.2</span> Extracting data tables from pdf files</h2>
<p>Many times you wonâ€™t have access to an actual data file. Many institutions make data available in pdf format. Lucky for us, thereâ€™s an R package to extract tables from pdf files.</p>
<p>As usual, we need to install the package first.</p>
<div class="sourceCode" id="cb285"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb285-1"><a href="getting-data.html#cb285-1"></a><span class="kw">install.packages</span>(<span class="st">&quot;tabulizer&quot;</span>)</span></code></pre></div>
<p>Remember we need to install a package only once (and updated it once in a while), but every time we want to use it, we need to call it with the <code>library()</code> function.</p>
<div class="sourceCode" id="cb286"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb286-1"><a href="getting-data.html#cb286-1"></a><span class="kw">library</span>(tabulizer)</span>
<span id="cb286-2"><a href="getting-data.html#cb286-2"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb286-3"><a href="getting-data.html#cb286-3"></a><span class="kw">library</span>(janitor)</span></code></pre></div>
<p>Letâ€™s look at UArizonaâ€™s <a href="https://uair.arizona.edu/CommonDataSet">Common Data Set</a> website.</p>
<p>For this lesson we will focus on the <a href="https://uair.arizona.edu/sites/default/files/2019-2020%20CDS_FINAL_060820.pdf">Common Data Set 2019-2020</a></p>
<p>First we need to run the <code>extract_tables()</code> function.</p>
<div class="sourceCode" id="cb287"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb287-1"><a href="getting-data.html#cb287-1"></a>ua_common_dataset &lt;-<span class="st"> </span><span class="kw">extract_tables</span>(<span class="st">&quot;https://uair.arizona.edu/sites/default/files/2019-2020%20CDS_FINAL_060820.pdf&quot;</span>)</span></code></pre></div>
<p>The <code>extract_tables()</code> function returns a list with all tables that it was able to extract from the pdf file given.</p>
<p>Letâ€™s take a look at the seventh table in the list.</p>
<div class="sourceCode" id="cb288"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb288-1"><a href="getting-data.html#cb288-1"></a>ua_common_dataset[[<span class="dv">9</span>]]</span></code></pre></div>
<pre><code>##       [,1] [,2]                              [,3]   
##  [1,] &quot;B3&quot; &quot;Certificate/diploma&quot;             &quot;1 28&quot; 
##  [2,] &quot;B3&quot; &quot;Associate degrees&quot;               &quot;-&quot;    
##  [3,] &quot;B3&quot; &quot;Bachelor&#39;s degrees&quot;              &quot;7,754&quot;
##  [4,] &quot;B3&quot; &quot;Postbachelor&#39;s certificates&quot;     &quot;172&quot;  
##  [5,] &quot;B3&quot; &quot;Master&#39;s degrees&quot;                &quot;2,100&quot;
##  [6,] &quot;B3&quot; &quot;Post-Master&#39;s certificates&quot;      &quot;9&quot;    
##  [7,] &quot;B3&quot; &quot;Doctoral degrees â€“&quot;              &quot;448&quot;  
##  [8,] &quot;&quot;   &quot;research/scholarship&quot;            &quot;&quot;     
##  [9,] &quot;B3&quot; &quot;Doctoral degrees â€“ professional&quot; &quot;533&quot;  
## [10,] &quot;&quot;   &quot;practice&quot;                        &quot;&quot;     
## [11,] &quot;B3&quot; &quot;Doctoral degrees â€“ other&quot;        &quot;-&quot;</code></pre>
<p>Itâ€™s pretty messy. We can start by converting it to an actual data frame.</p>
<div class="sourceCode" id="cb290"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb290-1"><a href="getting-data.html#cb290-1"></a>enrollment_data &lt;-<span class="st"> </span>ua_common_dataset[[<span class="dv">9</span>]] <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb290-2"><a href="getting-data.html#cb290-2"></a><span class="st">  </span><span class="kw">as.data.frame</span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb290-3"><a href="getting-data.html#cb290-3"></a><span class="st">  </span><span class="kw">clean_names</span>()</span>
<span id="cb290-4"><a href="getting-data.html#cb290-4"></a></span>
<span id="cb290-5"><a href="getting-data.html#cb290-5"></a>enrollment_data</span></code></pre></div>
<pre><code>##    v1                              v2    v3
## 1  B3             Certificate/diploma  1 28
## 2  B3               Associate degrees     -
## 3  B3              Bachelor&#39;s degrees 7,754
## 4  B3     Postbachelor&#39;s certificates   172
## 5  B3                Master&#39;s degrees 2,100
## 6  B3      Post-Master&#39;s certificates     9
## 7  B3              Doctoral degrees â€“   448
## 8                research/scholarship      
## 9  B3 Doctoral degrees â€“ professional   533
## 10                           practice      
## 11 B3        Doctoral degrees â€“ other     -</code></pre>
<p>We donâ€™t need the first column</p>
<div class="sourceCode" id="cb292"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb292-1"><a href="getting-data.html#cb292-1"></a>enrollment_data &lt;-<span class="st"> </span>enrollment_data <span class="op">%&gt;%</span></span>
<span id="cb292-2"><a href="getting-data.html#cb292-2"></a><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>v1)</span>
<span id="cb292-3"><a href="getting-data.html#cb292-3"></a></span>
<span id="cb292-4"><a href="getting-data.html#cb292-4"></a>enrollment_data</span></code></pre></div>
<pre><code>##                                 v2    v3
## 1              Certificate/diploma  1 28
## 2                Associate degrees     -
## 3               Bachelor&#39;s degrees 7,754
## 4      Postbachelor&#39;s certificates   172
## 5                 Master&#39;s degrees 2,100
## 6       Post-Master&#39;s certificates     9
## 7               Doctoral degrees â€“   448
## 8             research/scholarship      
## 9  Doctoral degrees â€“ professional   533
## 10                        practice      
## 11        Doctoral degrees â€“ other     -</code></pre>
<p>We can manually change the column names.</p>
<div class="sourceCode" id="cb294"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb294-1"><a href="getting-data.html#cb294-1"></a><span class="kw">colnames</span>(enrollment_data) </span></code></pre></div>
<pre><code>## [1] &quot;v2&quot; &quot;v3&quot;</code></pre>
<div class="sourceCode" id="cb296"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb296-1"><a href="getting-data.html#cb296-1"></a><span class="kw">colnames</span>(enrollment_data) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;type&quot;</span>, </span>
<span id="cb296-2"><a href="getting-data.html#cb296-2"></a>                               <span class="st">&quot;count&quot;</span>)</span>
<span id="cb296-3"><a href="getting-data.html#cb296-3"></a></span>
<span id="cb296-4"><a href="getting-data.html#cb296-4"></a>enrollment_data</span></code></pre></div>
<pre><code>##                               type count
## 1              Certificate/diploma  1 28
## 2                Associate degrees     -
## 3               Bachelor&#39;s degrees 7,754
## 4      Postbachelor&#39;s certificates   172
## 5                 Master&#39;s degrees 2,100
## 6       Post-Master&#39;s certificates     9
## 7               Doctoral degrees â€“   448
## 8             research/scholarship      
## 9  Doctoral degrees â€“ professional   533
## 10                        practice      
## 11        Doctoral degrees â€“ other     -</code></pre>
<p>We can now delete empty rows (which comes from line breaks in the table, you can fix these further if you think itâ€™s needed).</p>
<div class="sourceCode" id="cb298"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb298-1"><a href="getting-data.html#cb298-1"></a><span class="co"># remove empty rows</span></span>
<span id="cb298-2"><a href="getting-data.html#cb298-2"></a>enrollment_data &lt;-<span class="st"> </span>enrollment_data <span class="op">%&gt;%</span></span>
<span id="cb298-3"><a href="getting-data.html#cb298-3"></a><span class="st">  </span><span class="kw">filter</span>(count <span class="op">!=</span><span class="st"> &quot;&quot;</span>)</span>
<span id="cb298-4"><a href="getting-data.html#cb298-4"></a></span>
<span id="cb298-5"><a href="getting-data.html#cb298-5"></a>enrollment_data</span></code></pre></div>
<pre><code>##                              type count
## 1             Certificate/diploma  1 28
## 2               Associate degrees     -
## 3              Bachelor&#39;s degrees 7,754
## 4     Postbachelor&#39;s certificates   172
## 5                Master&#39;s degrees 2,100
## 6      Post-Master&#39;s certificates     9
## 7              Doctoral degrees â€“   448
## 8 Doctoral degrees â€“ professional   533
## 9        Doctoral degrees â€“ other     -</code></pre>
<p>We can replace <code>-</code> with zero.</p>
<div class="sourceCode" id="cb300"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb300-1"><a href="getting-data.html#cb300-1"></a><span class="co"># replace - with 0</span></span>
<span id="cb300-2"><a href="getting-data.html#cb300-2"></a>enrollment_data &lt;-<span class="st"> </span>enrollment_data <span class="op">%&gt;%</span></span>
<span id="cb300-3"><a href="getting-data.html#cb300-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">count =</span> <span class="kw">ifelse</span>(count <span class="op">==</span><span class="st"> &quot;-&quot;</span>,</span>
<span id="cb300-4"><a href="getting-data.html#cb300-4"></a>                        <span class="dv">0</span>, count))</span>
<span id="cb300-5"><a href="getting-data.html#cb300-5"></a></span>
<span id="cb300-6"><a href="getting-data.html#cb300-6"></a>enrollment_data</span></code></pre></div>
<pre><code>##                              type count
## 1             Certificate/diploma  1 28
## 2               Associate degrees     0
## 3              Bachelor&#39;s degrees 7,754
## 4     Postbachelor&#39;s certificates   172
## 5                Master&#39;s degrees 2,100
## 6      Post-Master&#39;s certificates     9
## 7              Doctoral degrees â€“   448
## 8 Doctoral degrees â€“ professional   533
## 9        Doctoral degrees â€“ other     0</code></pre>
<p>Finally, we convert <code>count</code> to number.</p>
<div class="sourceCode" id="cb302"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb302-1"><a href="getting-data.html#cb302-1"></a><span class="co"># try parse_number</span></span>
<span id="cb302-2"><a href="getting-data.html#cb302-2"></a>enrollment_data <span class="op">%&gt;%</span></span>
<span id="cb302-3"><a href="getting-data.html#cb302-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">count =</span> <span class="kw">parse_number</span>(count))</span></code></pre></div>
<pre><code>##                              type count
## 1             Certificate/diploma     1
## 2               Associate degrees     0
## 3              Bachelor&#39;s degrees  7754
## 4     Postbachelor&#39;s certificates   172
## 5                Master&#39;s degrees  2100
## 6      Post-Master&#39;s certificates     9
## 7              Doctoral degrees â€“   448
## 8 Doctoral degrees â€“ professional   533
## 9        Doctoral degrees â€“ other     0</code></pre>
<p>Remove spaces between numbers.</p>
<div class="sourceCode" id="cb304"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb304-1"><a href="getting-data.html#cb304-1"></a><span class="co"># use gsub to remove spaces (i.e., replace \\s with nothing)</span></span>
<span id="cb304-2"><a href="getting-data.html#cb304-2"></a>enrollment_data &lt;-<span class="st"> </span>enrollment_data <span class="op">%&gt;%</span></span>
<span id="cb304-3"><a href="getting-data.html#cb304-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">count =</span> <span class="kw">gsub</span>(<span class="st">&quot;</span><span class="ch">\\</span><span class="st">s&quot;</span>, <span class="st">&quot;&quot;</span>, count))</span>
<span id="cb304-4"><a href="getting-data.html#cb304-4"></a></span>
<span id="cb304-5"><a href="getting-data.html#cb304-5"></a>enrollment_data</span></code></pre></div>
<pre><code>##                              type count
## 1             Certificate/diploma   128
## 2               Associate degrees     0
## 3              Bachelor&#39;s degrees 7,754
## 4     Postbachelor&#39;s certificates   172
## 5                Master&#39;s degrees 2,100
## 6      Post-Master&#39;s certificates     9
## 7              Doctoral degrees â€“   448
## 8 Doctoral degrees â€“ professional   533
## 9        Doctoral degrees â€“ other     0</code></pre>
<p>Try parse_number again</p>
<div class="sourceCode" id="cb306"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb306-1"><a href="getting-data.html#cb306-1"></a><span class="co"># try parse_number</span></span>
<span id="cb306-2"><a href="getting-data.html#cb306-2"></a>enrollment_data &lt;-<span class="st"> </span>enrollment_data <span class="op">%&gt;%</span></span>
<span id="cb306-3"><a href="getting-data.html#cb306-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">count =</span> <span class="kw">parse_number</span>(count))</span>
<span id="cb306-4"><a href="getting-data.html#cb306-4"></a></span>
<span id="cb306-5"><a href="getting-data.html#cb306-5"></a><span class="co"># check data</span></span>
<span id="cb306-6"><a href="getting-data.html#cb306-6"></a>enrollment_data</span></code></pre></div>
<pre><code>##                              type count
## 1             Certificate/diploma   128
## 2               Associate degrees     0
## 3              Bachelor&#39;s degrees  7754
## 4     Postbachelor&#39;s certificates   172
## 5                Master&#39;s degrees  2100
## 6      Post-Master&#39;s certificates     9
## 7              Doctoral degrees â€“   448
## 8 Doctoral degrees â€“ professional   533
## 9        Doctoral degrees â€“ other     0</code></pre>
<p>We can add info about year, and then process all the other pdf files.</p>
<div class="sourceCode" id="cb308"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb308-1"><a href="getting-data.html#cb308-1"></a><span class="co"># try parse_number</span></span>
<span id="cb308-2"><a href="getting-data.html#cb308-2"></a>enrollment_data &lt;-<span class="st"> </span>enrollment_data <span class="op">%&gt;%</span></span>
<span id="cb308-3"><a href="getting-data.html#cb308-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">year =</span> <span class="dv">2019</span>)</span>
<span id="cb308-4"><a href="getting-data.html#cb308-4"></a></span>
<span id="cb308-5"><a href="getting-data.html#cb308-5"></a><span class="co"># check data</span></span>
<span id="cb308-6"><a href="getting-data.html#cb308-6"></a>enrollment_data</span></code></pre></div>
<pre><code>##                              type count year
## 1             Certificate/diploma   128 2019
## 2               Associate degrees     0 2019
## 3              Bachelor&#39;s degrees  7754 2019
## 4     Postbachelor&#39;s certificates   172 2019
## 5                Master&#39;s degrees  2100 2019
## 6      Post-Master&#39;s certificates     9 2019
## 7              Doctoral degrees â€“   448 2019
## 8 Doctoral degrees â€“ professional   533 2019
## 9        Doctoral degrees â€“ other     0 2019</code></pre>
<p>We can now plot the data.</p>
<div class="sourceCode" id="cb310"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb310-1"><a href="getting-data.html#cb310-1"></a><span class="co"># draw bar plot per type of degree</span></span>
<span id="cb310-2"><a href="getting-data.html#cb310-2"></a>enrollment_data <span class="op">%&gt;%</span></span>
<span id="cb310-3"><a href="getting-data.html#cb310-3"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> count,</span>
<span id="cb310-4"><a href="getting-data.html#cb310-4"></a>             <span class="dt">y =</span> <span class="kw">reorder</span>(type, count))) <span class="op">+</span></span>
<span id="cb310-5"><a href="getting-data.html#cb310-5"></a><span class="st">  </span><span class="kw">geom_col</span>() <span class="op">+</span></span>
<span id="cb310-6"><a href="getting-data.html#cb310-6"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;&quot;</span>)</span></code></pre></div>
<p><img src="ESOC_214_Fall_2020_files/figure-html/unnamed-chunk-169-1.png" width="672" /></p>
</div>
<div id="extracting-data-tables-from-websites" class="section level2">
<h2><span class="header-section-number">12.3</span> Extracting data tables from websites</h2>
<p>Other times you will find data available in webpages, or in HTML format. Lucky for us again, thereâ€™s an R package to extract tables from html files.</p>
<p>As usual, we need to install the package first.</p>
<div class="sourceCode" id="cb311"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb311-1"><a href="getting-data.html#cb311-1"></a><span class="kw">install.packages</span>(<span class="st">&quot;rvest&quot;</span>)</span></code></pre></div>
<p>Remember we need to install a package only once (and updated it once in a while), but every time we want to use it, we need to call it with the <code>library()</code> function.</p>
<div class="sourceCode" id="cb312"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb312-1"><a href="getting-data.html#cb312-1"></a><span class="kw">library</span>(rvest)</span></code></pre></div>
<pre><code>## Loading required package: xml2</code></pre>
<pre><code>## 
## Attaching package: &#39;rvest&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:purrr&#39;:
## 
##     pluck</code></pre>
<pre><code>## The following object is masked from &#39;package:readr&#39;:
## 
##     guess_encoding</code></pre>
<p>Letâ€™s check what tables there are in <a href="https://en.wikipedia.org/wiki/University_of_Arizona">UArizonaâ€™s wikipedia page</a>.</p>
<p>First, we need to read in the html file.</p>
<div class="sourceCode" id="cb317"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb317-1"><a href="getting-data.html#cb317-1"></a>uarizona_wiki_html &lt;-<span class="st"> </span><span class="kw">read_html</span>(<span class="st">&quot;https://en.wikipedia.org/wiki/University_of_Arizona&quot;</span>)</span></code></pre></div>
<p>We now parse the html for tables.</p>
<div class="sourceCode" id="cb318"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb318-1"><a href="getting-data.html#cb318-1"></a>uarizona_wiki_html <span class="op">%&gt;%</span></span>
<span id="cb318-2"><a href="getting-data.html#cb318-2"></a><span class="st">  </span><span class="kw">html_nodes</span>(<span class="st">&quot;table&quot;</span>)</span></code></pre></div>
<pre><code>## {xml_nodeset (19)}
##  [1] &lt;table class=&quot;infobox vcard&quot; style=&quot;width:22em&quot;&gt;\n&lt;caption class=&quot;fn org ...
##  [2] &lt;table class=&quot;multicol&quot; role=&quot;presentation&quot; style=&quot;border-collapse: coll ...
##  [3] &lt;table class=&quot;infobox&quot; style=&quot;width: 22em&quot;&gt;&lt;tbody&gt;\n&lt;tr&gt;&lt;th colspan=&quot;2&quot;  ...
##  [4] &lt;table class=&quot;wikitable sortable collapsible collapsed&quot; style=&quot;float:rig ...
##  [5] &lt;table class=&quot;wikitable sortable collapsible collapsed&quot; style=&quot;float:rig ...
##  [6] &lt;table style=&quot;float:right; font-size:85%; margin:10px&quot; class=&quot;wikitable&quot; ...
##  [7] &lt;table role=&quot;presentation&quot; class=&quot;mbox-small plainlinks sistersitebox&quot; s ...
##  [8] &lt;table class=&quot;nowraplinks hlist mw-collapsible mw-collapsed navbox-inner ...
##  [9] &lt;table class=&quot;nowraplinks mw-collapsible mw-collapsed navbox-inner&quot; styl ...
## [10] &lt;table class=&quot;nowraplinks mw-collapsible mw-collapsed navbox-inner&quot; styl ...
## [11] &lt;table class=&quot;nowraplinks mw-collapsible autocollapse navbox-inner&quot; styl ...
## [12] &lt;table class=&quot;nowraplinks mw-collapsible autocollapse navbox-inner&quot; styl ...
## [13] &lt;table class=&quot;nowraplinks navbox-subgroup&quot; style=&quot;border-spacing:0&quot;&gt;&lt;tbo ...
## [14] &lt;table class=&quot;nowraplinks mw-collapsible autocollapse navbox-inner&quot; styl ...
## [15] &lt;table class=&quot;nowraplinks mw-collapsible autocollapse navbox-inner&quot; styl ...
## [16] &lt;table class=&quot;nowraplinks mw-collapsible autocollapse navbox-inner&quot; styl ...
## [17] &lt;table class=&quot;nowraplinks mw-collapsible autocollapse navbox-inner&quot; styl ...
## [18] &lt;table class=&quot;nowraplinks mw-collapsible autocollapse navbox-inner&quot; styl ...
## [19] &lt;table class=&quot;nowraplinks hlist navbox-inner&quot; style=&quot;border-spacing:0;ba ...</code></pre>
<p>Too many tables. We can be specific, and retrieve nodes per class.</p>
<div class="sourceCode" id="cb320"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb320-1"><a href="getting-data.html#cb320-1"></a>uarizona_wiki_html <span class="op">%&gt;%</span></span>
<span id="cb320-2"><a href="getting-data.html#cb320-2"></a><span class="st">  </span><span class="kw">html_nodes</span>(<span class="st">&quot;.wikitable&quot;</span>)</span></code></pre></div>
<pre><code>## {xml_nodeset (3)}
## [1] &lt;table class=&quot;wikitable sortable collapsible collapsed&quot; style=&quot;float:righ ...
## [2] &lt;table class=&quot;wikitable sortable collapsible collapsed&quot; style=&quot;float:righ ...
## [3] &lt;table style=&quot;float:right; font-size:85%; margin:10px&quot; class=&quot;wikitable&quot;&gt; ...</code></pre>
<p>This looks a little better.</p>
<p>It looks like the table we want is the third table.</p>
<div class="sourceCode" id="cb322"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb322-1"><a href="getting-data.html#cb322-1"></a><span class="co"># create wiki_tables object</span></span>
<span id="cb322-2"><a href="getting-data.html#cb322-2"></a>wiki_tables &lt;-<span class="st"> </span>uarizona_wiki_html <span class="op">%&gt;%</span></span>
<span id="cb322-3"><a href="getting-data.html#cb322-3"></a><span class="st">  </span><span class="kw">html_nodes</span>(<span class="st">&quot;.wikitable&quot;</span>)</span>
<span id="cb322-4"><a href="getting-data.html#cb322-4"></a></span>
<span id="cb322-5"><a href="getting-data.html#cb322-5"></a><span class="co"># transform node into an actual table</span></span>
<span id="cb322-6"><a href="getting-data.html#cb322-6"></a>fall_freshman_stats &lt;-<span class="st"> </span>wiki_tables[[<span class="dv">3</span>]] <span class="op">%&gt;%</span></span>
<span id="cb322-7"><a href="getting-data.html#cb322-7"></a><span class="st">  </span><span class="kw">html_table</span>(<span class="dt">fill =</span> <span class="ot">TRUE</span>)</span>
<span id="cb322-8"><a href="getting-data.html#cb322-8"></a></span>
<span id="cb322-9"><a href="getting-data.html#cb322-9"></a><span class="co"># check data</span></span>
<span id="cb322-10"><a href="getting-data.html#cb322-10"></a>fall_freshman_stats</span></code></pre></div>
<pre><code>##                          2017      2016      2015      2014     2013
## 1        Applicants    36,166    35,236    32,723    26,481   26,329
## 2            Admits    28,433    26,961    24,417    20,546   20,251
## 3        % Admitted      78.6      76.5      74.6      77.5     76.9
## 4          Enrolled     7,360     7,753     7,466     7,744    6,881
## 5           Avg GPA      3.43      3.48      3.38      3.37     3.40
## 6        SAT range* 1015â€“1250 1010â€“1230 1010â€“1230 1000â€“1230 990â€“1220
## 7 * SAT out of 1600      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;     &lt;NA&gt;</code></pre>
<p>Tidy it.</p>
<div class="sourceCode" id="cb324"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb324-1"><a href="getting-data.html#cb324-1"></a><span class="co"># first column name is blank</span></span>
<span id="cb324-2"><a href="getting-data.html#cb324-2"></a><span class="kw">colnames</span>(fall_freshman_stats)[<span class="dv">1</span>] &lt;-<span class="st"> &quot;type&quot;</span></span>
<span id="cb324-3"><a href="getting-data.html#cb324-3"></a></span>
<span id="cb324-4"><a href="getting-data.html#cb324-4"></a><span class="co"># pivot years</span></span>
<span id="cb324-5"><a href="getting-data.html#cb324-5"></a>fall_freshman_stats &lt;-<span class="st"> </span>fall_freshman_stats <span class="op">%&gt;%</span></span>
<span id="cb324-6"><a href="getting-data.html#cb324-6"></a><span class="st">  </span><span class="kw">pivot_longer</span>(<span class="dt">cols =</span> <span class="st">&quot;2017&quot;</span><span class="op">:</span><span class="st">&quot;2013&quot;</span>,</span>
<span id="cb324-7"><a href="getting-data.html#cb324-7"></a>               <span class="dt">names_to =</span> <span class="st">&quot;year&quot;</span>)</span>
<span id="cb324-8"><a href="getting-data.html#cb324-8"></a></span>
<span id="cb324-9"><a href="getting-data.html#cb324-9"></a><span class="co"># make value a number</span></span>
<span id="cb324-10"><a href="getting-data.html#cb324-10"></a>fall_freshman_stats &lt;-<span class="st"> </span>fall_freshman_stats <span class="op">%&gt;%</span></span>
<span id="cb324-11"><a href="getting-data.html#cb324-11"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">value =</span> <span class="kw">as.numeric</span>(<span class="kw">parse_number</span>(value)))</span>
<span id="cb324-12"><a href="getting-data.html#cb324-12"></a></span>
<span id="cb324-13"><a href="getting-data.html#cb324-13"></a><span class="co"># inspect data</span></span>
<span id="cb324-14"><a href="getting-data.html#cb324-14"></a><span class="kw">glimpse</span>(fall_freshman_stats)</span></code></pre></div>
<pre><code>## Rows: 35
## Columns: 3
## $ type  &lt;chr&gt; &quot;Applicants&quot;, &quot;Applicants&quot;, &quot;Applicants&quot;, &quot;Applicants&quot;, &quot;Applicâ€¦
## $ year  &lt;chr&gt; &quot;2017&quot;, &quot;2016&quot;, &quot;2015&quot;, &quot;2014&quot;, &quot;2013&quot;, &quot;2017&quot;, &quot;2016&quot;, &quot;2015&quot;,â€¦
## $ value &lt;dbl&gt; 36166.00, 35236.00, 32723.00, 26481.00, 26329.00, 28433.00, 269â€¦</code></pre>
<p>Plot it.</p>
<div class="sourceCode" id="cb326"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb326-1"><a href="getting-data.html#cb326-1"></a>fall_freshman_stats <span class="op">%&gt;%</span></span>
<span id="cb326-2"><a href="getting-data.html#cb326-2"></a><span class="st">  </span><span class="kw">filter</span>(type <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Applicants&quot;</span>, <span class="st">&quot;Admits&quot;</span>, <span class="st">&quot;Enrolled&quot;</span>)) <span class="op">%&gt;%</span></span>
<span id="cb326-3"><a href="getting-data.html#cb326-3"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> year, </span>
<span id="cb326-4"><a href="getting-data.html#cb326-4"></a>             <span class="dt">y =</span> value, </span>
<span id="cb326-5"><a href="getting-data.html#cb326-5"></a>             <span class="dt">color =</span> <span class="kw">fct_reorder</span>(type, value, <span class="dt">.desc =</span> <span class="ot">TRUE</span>))) <span class="op">+</span></span>
<span id="cb326-6"><a href="getting-data.html#cb326-6"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb326-7"><a href="getting-data.html#cb326-7"></a><span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span></span>
<span id="cb326-8"><a href="getting-data.html#cb326-8"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">group =</span> type)) <span class="op">+</span></span>
<span id="cb326-9"><a href="getting-data.html#cb326-9"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="st">&quot;student count&quot;</span>,</span>
<span id="cb326-10"><a href="getting-data.html#cb326-10"></a>       <span class="dt">color =</span> <span class="st">&quot;&quot;</span>)</span></code></pre></div>
<p><img src="ESOC_214_Fall_2020_files/figure-html/unnamed-chunk-177-1.png" width="672" /></p>
</div>
<div id="project-proposal" class="section level2">
<h2><span class="header-section-number">12.4</span> Project Proposal</h2>
<p><a href="final_project_docs/esoc214_project_proposal.pdf">Project Proposal</a> is due next week (Nov.Â 05, 2020).</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-case-study-2.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-case-study-3.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["ESOC_214_Fall_2020.pdf", "ESOC_214_Fall_2020.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
